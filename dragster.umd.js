!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(window,(function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVisualPosition=t.EDomEvent=void 0,function(e){e.TOUCHSTART="touchstart",e.TOUCHMOVE="touchmove",e.TOUCHEND="touchend",e.MOUSEDOWN="mousedown",e.MOUSEMOVE="mousemove",e.MOUSEUP="mouseup"}(t.EDomEvent||(t.EDomEvent={})),function(e){e.TOP="top",e.BOTTOM="bottom"}(t.EVisualPosition||(t.EVisualPosition={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dragster=void 0;const n=o(0),r=o(2),s=o(3),a=()=>{},d="dragster-drag-region",l="dragster-drop-placeholder";t.Dragster=function({elementSelector:e=".dragster-block",regionSelector:t=".dragster-region",dragHandleCssClass:o=!1,dragOnlyRegionCssClass:i="dragster-region--drag-only",replaceElements:c=!1,updateRegionsHeight:g=!0,minimumRegionHeight:p=60,onBeforeDragStart:m=a,onAfterDragStart:u=a,onBeforeDragMove:E=a,onAfterDragMove:v=a,onBeforeDragEnd:h=a,onAfterDragEnd:f=a,onAfterDragDrop:O=a,scrollWindowOnDrag:T=!1,cloneElements:b=!1,wrapDraggableElements:P=!0,shadowElementUnderMouse:M=!1}){const D=Math.floor(65536*(1+Math.random())).toString(16),y=(e,t)=>{const o=e.parentNode;if(o&&(!e.classList||!e.classList.contains(d)||e.classList.contains(i)))return t(e)?e:t(o)?o:y(o,t)},C=e=>{const t=document.createElement("div");return t.classList.add(...e),t.dataset.dragsterId=D,t},L=(e,t)=>{if(e&&e.parentNode){const o=P?e:e.nextSibling;e.parentNode.insertBefore(t,o)}},w=(e,t)=>{e&&e.parentNode&&e.parentNode.insertBefore(t,e)},B=()=>C(["dragster-draggable"]),U=()=>C([l]),S=e=>{[...document.getElementsByClassName(e)].forEach(e=>{e.dataset.dragsterId===D&&e.parentNode.removeChild(e)})},H=({element:e,eventName:t,regions:o})=>{t&&(o.forEach((function(e){e.removeEventListener(t,G.mousemove)})),document.body.removeEventListener(t,G.mousemove)),e&&e.classList.remove("is-dragging"),[...document.getElementsByClassName("dragster-draggable")].forEach(e=>{e.firstChild||e.parentNode.removeChild(e)}),S(l),S("dragster-temp"),A()},N=()=>{[...document.getElementsByClassName("dragster-replacable")].forEach(e=>e.classList.remove("dragster-replacable"))},V=()=>[...document.querySelectorAll(e)],I=()=>[...document.querySelectorAll(t)],R=e=>{!1!==P?e.forEach(e=>{const t=e.parentNode;if(t.classList.contains("dragster-draggable"))return;const o=B();t.insertBefore(o,e),t.removeChild(e),o.appendChild(e)}):console.warn("You have disabled the default behavior of wrapping the draggable elements. If you want Dragster.js to work properly you still will have to do this manually.\n\nMore info: https://github.com/sunpietro/dragster/blob/master/README.md#user-content-wrapdraggableelements---boolean")},A=()=>{if(!g)return;[...document.getElementsByClassName(d)].forEach(t=>{const o=[...t.querySelectorAll(e)];if(!o.length)return;let n=p;o.forEach(e=>{const t=window.getComputedStyle(e);n+=e.offsetHeight+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}),t.style.height=n+"px"})},x=e=>e.classList&&e.classList.contains("dragster-draggable")&&e.dataset.dragsterId===D,j=e=>e.classList&&e.classList.contains(i),_=(e,t,o)=>{H({element:z,eventName:e,regions:o}),H({element:z,eventName:t,regions:o})},Y=()=>{ee=window.innerHeight},W=e=>{e.forEach(e=>{e.classList.add(d),e.dataset.dragsterId=D,e.addEventListener(n.EDomEvent.MOUSEDOWN,G.mousedown,!1),e.addEventListener(n.EDomEvent.TOUCHSTART,G.mousedown,!1)})},k=()=>{c?N():S(l)};let q,F,X,z,G,J,K,Q,Z,$={top:!1,bottom:!1},ee=window.innerHeight,te=V(),oe=I();return c&&document.body.appendChild(C(["dragster-is-hidden","dragster-temp-container"])),G={mousedown:e=>{const{which:t,changedTouches:r,type:s}=e,a=e.target;if(o&&("string"!=typeof o||!a.classList.contains(o)))return;if(!1===m(e)||3===t)return;if(e.preventDefault(),z=y(a,x),!z)return;const d=s===n.EDomEvent.TOUCHSTART,l=r?r[0]:e,i=d?n.EDomEvent.TOUCHMOVE:n.EDomEvent.MOUSEMOVE,c=d?n.EDomEvent.TOUCHEND:n.EDomEvent.MOUSEUP,{mousemove:g,mouseup:p}=G;oe.forEach(e=>{e.addEventListener(i,g,!1),e.addEventListener(c,p,!1)}),document.body.addEventListener(i,g,!1),document.body.addEventListener(c,p,!1);const E=z.getBoundingClientRect();Q=E.left-l.clientX,Z=E.top-l.clientY,F=(()=>{const e=C(["dragster-temp","dragster-is-hidden"]);return e.style.position="fixed",document.body.appendChild(e),e})(),F.innerHTML=z.innerHTML,F.style.width=E.width+"px",F.style.height=E.height+"px",F.dataset.dragsterId=D,X=F.getBoundingClientRect(),z.classList.add("is-dragging"),q={drag:{node:z},drop:{node:null},shadow:{node:F,top:null,left:null},placeholder:{node:null,position:null},dropped:null,clonedFrom:null,clonedTo:null},e.dragster=q,u(e)},mousemove:e=>{if(e.dragster=q,!1===E(e)||!X)return;e.preventDefault();const t=e.changedTouches?e.changedTouches.item(0):e,{view:o,clientX:n,clientY:r}=t,a=o?o.pageXOffset:0,g=o?o.pageYOffset:0,p=r+g,m=n+a,u=document.elementFromPoint(n,r),h=y(u,x),f=M?r+Z:r,O=M?m+Q:m-X.width/2,b=q.drag.node&&q.drag.node.dataset,P=!(!h||!y(h,j)),C=u.dataset.dragsterId===D,L=u.classList.contains(d)&&C,B=u.classList.contains(i)&&C,S=u.classList.contains(l),H=u.getElementsByClassName("dragster-draggable").length>0,V=u.getElementsByClassName(l).length>0;clearTimeout(J),F.style.top=f+"px",F.style.left=O+"px",F.classList.remove("dragster-is-hidden"),q.shadow.top=f,q.shadow.left=O;const I=h&&h!==z&&!P,R=L&&!B&&!H&&!V,_=L&&!B&&H&&!V;!b&&!L&&!S?k():I?(k(),N(),q=s.addPlaceholderOnTargetOnMove({dropTarget:h,elementPositionY:p,pageYOffset:g,placeholder:U(),shouldReplaceElements:c,dragsterEventInfo:q,removePlaceholders:k,cssReplacableClass:"dragster-replacable",insertBefore:w,visiblePlaceholder:$})):R?(k(),q=s.addPlaceholderInRegionOnMove({target:u,placeholder:U(),dragsterEventInfo:q})):_&&(k(),q=s.addPlaceholderInRegionBelowTargetsOnMove({target:u,placeholder:U(),dragsterEventInfo:q,cssDraggableClass:"dragster-draggable",dragsterId:D})),T&&(e=>{const{changedTouches:t}=e,o=(t?t[0]:e).clientY;ee-o<60?window.scrollBy(0,10):o<60&&window.scrollBy(0,-10)})(e),A(),v(e)},mouseup:e=>{e.dragster=q;const t=e.type===n.EDomEvent.TOUCHSTART,o=t?n.EDomEvent.TOUCHMOVE:n.EDomEvent.MOUSEMOVE,s=t?n.EDomEvent.TOUCHEND:n.EDomEvent.MOUSEUP;if(!1===h(e))return void _(o,s,oe);const a=c?"dragster-replacable":l,d=document.getElementsByClassName(a)[0],i=!(!z||!y(z,j)),g=b&&i;if(J=setTimeout(()=>_(o,s,oe),200),N(),!z||!d)return void _(o,s,oe);let p=y(d,x);p=p||d,z!==p&&(c||g?c&&!g?(e.dragster=r.replaceElementsOnDrop({dragsterEvent:e.dragster,dropDraggableTarget:p,dropTemp:document.getElementsByClassName("dragster-temp-container")[0],draggedElement:z}),O(e)):!c&&g&&(e.dragster=r.cloneElementsOnDrop({dragsterEvent:e.dragster,dropTarget:d,insertAfterTarget:e=>{L(p,e)},insertBeforeTarget:e=>{w(p,e)},draggedElement:z,cleanWorkspace:e=>H({element:e,regions:oe})}),O(e)):(e.dragster=r.moveElementOnDrop({shouldWrapElements:!0===P,dragsterEvent:e.dragster,insertBefore:w,insertAfter:L,draggedElement:z,dropTarget:d,dropDraggableTarget:p,dropTemp:!1===P?z:B()}),O(e)),p.classList.remove("is-drag-over")),_(o,s,oe),f(e)}},K={addPlaceholderOnTarget:(e,t,o)=>{const r=e.getBoundingClientRect(),s=U(),a=r.height/2;N(),c?e.classList.add("dragster-replacable"):t-o-r.top<a&&!$.top?(S(l),s.dataset.placeholderPosition=n.EVisualPosition.TOP,w(e.firstChild,s),q.placeholder.position=n.EVisualPosition.TOP):r.bottom-(t-o)<a&&!$.bottom&&(S(l),s.dataset.placeholderPosition=n.EVisualPosition.BOTTOM,e.appendChild(s),q.placeholder.position=n.EVisualPosition.BOTTOM),q.placeholder.node=s,q.drop.node=e},addPlaceholderInRegion:e=>{const t=U();e.appendChild(t),q.placeholder.position=n.EVisualPosition.BOTTOM,q.placeholder.node=t,q.drop.node=e},addPlaceholderInRegionBelowTargets:e=>{const t=[...e.getElementsByClassName("dragster-draggable")].filter(e=>e.dataset.dragsterId===D),o=t[t.length-1],r=U();r.dataset.placeholderPosition=n.EVisualPosition.BOTTOM,S(l),o.appendChild(r),q.placeholder.position=n.EVisualPosition.BOTTOM,q.placeholder.node=r,q.drop.node=o},removePlaceholders:()=>{c?N():S(l)}},R(te),W(oe),window.addEventListener("resize",Y,!1),{update:()=>{te=V(),R(te),A(),Y()},updateRegions:()=>{oe=I(),W(oe)},destroy:()=>{oe.forEach(e=>{e.classList.remove(d),e.removeEventListener(n.EDomEvent.MOUSEDOWN,G.mousedown),e.removeEventListener(n.EDomEvent.MOUSEMOVE,G.mousemove),e.removeEventListener(n.EDomEvent.MOUSEUP,G.mouseup),e.removeEventListener(n.EDomEvent.TOUCHSTART,G.mousedown),e.removeEventListener(n.EDomEvent.TOUCHMOVE,G.mousemove),e.removeEventListener(n.EDomEvent.TOUCHEND,G.mouseup)}),document.body.removeEventListener(n.EDomEvent.MOUSEMOVE,G.mousemove),document.body.removeEventListener(n.EDomEvent.TOUCHMOVE,G.mousemove),document.body.removeEventListener(n.EDomEvent.MOUSEUP,G.mouseup),document.body.removeEventListener(n.EDomEvent.TOUCHEND,G.mouseup),window.removeEventListener("resize",Y)}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneElementsOnDrop=t.replaceElementsOnDrop=t.moveElementOnDrop=void 0;const n=o(0);t.moveElementOnDrop=({dragsterEvent:e,dropTarget:t,dropDraggableTarget:o,dropTemp:r,insertBefore:s,insertAfter:a,shouldWrapElements:d,draggedElement:l})=>(t.dataset.placeholderPosition===n.EVisualPosition.TOP?s(o,r):d?a(o,r):a(r,o),l.firstChild&&d&&r.appendChild(l.firstChild),e.dropped=r,e),t.replaceElementsOnDrop=({dragsterEvent:e,dropDraggableTarget:t,dropTemp:o,draggedElement:n})=>(o.innerHTML=n.innerHTML,n.innerHTML=t.innerHTML,t.innerHTML=o.innerHTML,o.innerHTML="",e.dropped=o,e),t.cloneElementsOnDrop=({dragsterEvent:e,dropTarget:t,draggedElement:o,insertBeforeTarget:r,insertAfterTarget:s,cleanWorkspace:a})=>{const d=o.cloneNode(!0);return t.dataset.placeholderPosition===n.EVisualPosition.TOP?r(d):s(d),a(d),e.clonedFrom=o,e.clonedTo=d,e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPlaceholderInRegionBelowTargetsOnMove=t.addPlaceholderInRegionOnMove=t.addPlaceholderOnTargetOnMove=void 0;const n=o(0);t.addPlaceholderOnTargetOnMove=({dropTarget:e,elementPositionY:t,pageYOffset:o,placeholder:r,dragsterEventInfo:s,shouldReplaceElements:a,removePlaceholders:d,cssReplacableClass:l,insertBefore:i,visiblePlaceholder:c})=>{const g=e.getBoundingClientRect(),p=g.height/2;return a?(e.classList.add(l),s.placeholder.node=r,s.drop.node=e,s):(t-o-g.top<p&&!c.top?(d(),r.dataset.placeholderPosition=n.EVisualPosition.TOP,i(e.firstChild,r),s.placeholder.position=n.EVisualPosition.TOP):g.bottom-(t-o)<p&&!c.bottom&&(d(),r.dataset.placeholderPosition=n.EVisualPosition.BOTTOM,e.appendChild(r),s.placeholder.position=n.EVisualPosition.BOTTOM),s.placeholder.node=r,s.drop.node=e,s)},t.addPlaceholderInRegionOnMove=({target:e,placeholder:t,dragsterEventInfo:o})=>(e.appendChild(t),o.placeholder.position=n.EVisualPosition.BOTTOM,o.placeholder.node=t,o.drop.node=e,o),t.addPlaceholderInRegionBelowTargetsOnMove=({target:e,dragsterEventInfo:t,placeholder:o,cssDraggableClass:r,dragsterId:s})=>{const a=[...e.getElementsByClassName(r)].filter(e=>e.dataset.dragsterId===s),d=a[a.length-1];return o.dataset.placeholderPosition=n.EVisualPosition.BOTTOM,d.appendChild(o),t.placeholder.position=n.EVisualPosition.BOTTOM,t.placeholder.node=o,t.drop.node=d,t}}])}));