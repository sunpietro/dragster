/*@preserve
 * Dragster - drag'n'drop library v1.4.2
 * https://github.com/sunpietro/dragster
 *
 * Copyright 2015-2017 Piotr Nalepa
 * http://blog.piotrnalepa.pl
 *
 * Released under the MIT license
 * https://github.com/sunpietro/dragster/blob/master/LICENSE
 *
 * Date: 2017-03-30T16:30Z
 */
!function(e,t){"use strict";e.Dragster=function(n){var r,a,o,s,l,d,i,c,g,u,m,p,h,f,v,E,L,C,y,w,D,b,B,T,H,M,N,P,R,S,I,A="dragster-",O="is-dragging",Y="is-drag-over",X=A+"draggable",q=A+"drag-region",x=A+"drop-placeholder",F=A+"temp",U=F+"-container",k=A+"is-hidden",J=A+"replacable",W="touchstart",j="touchmove",z="touchend",G="mousedown",K="mousemove",Q="mouseup",V="top",Z="bottom",$="px",_="div",ee=!1,te=!0,ne=null,re=function(){},ae={elementSelector:".dragster-block",regionSelector:".dragster-region",dragHandleCssClass:ee,dragOnlyRegionCssClass:A+"region--drag-only",replaceElements:ee,updateRegionsHeight:te,minimumRegionHeight:60,onBeforeDragStart:re,onAfterDragStart:re,onBeforeDragMove:re,onAfterDragMove:re,onBeforeDragEnd:re,onAfterDragEnd:re,onAfterDragDrop:re,scrollWindowOnDrag:ee,dragOnlyRegionsEnabled:ee,cloneElements:ee,wrapDraggableElements:te,shadowElementUnderMouse:ee},oe={top:ee,bottom:ee},se={drag:{node:ne},drop:{node:ne},shadow:{node:ne,top:0,left:0},placeholder:{node:ne,position:ne},dropped:ne,clonedFrom:ne,clonedTo:ne},le={},de=e.innerHeight,ie=Math.floor(65536*(1+Math.random())).toString(16);for(r in n)n.hasOwnProperty(r)&&(ae[r]=n[r]);return b=function(){return[].slice.call(t.querySelectorAll(ae.elementSelector))},B=function(e){return ae.wrapDraggableElements===ee?(console.warn("You have disabled the default behavior of wrapping the draggable elements. If you want Dragster.js to work properly you still will have to do this manually.\n\nMore info: https://github.com/sunpietro/dragster/blob/master/README.md#user-content-wrapdraggableelements---boolean"),ee):void e.forEach(function(e){var t=v(),n=e.parentNode;return n.classList.contains(X)?ee:(n.insertBefore(t,e),n.removeChild(e),void t.appendChild(e))})},c=b(),a=[].slice.call(t.querySelectorAll(ae.regionSelector)),ae.replaceElements&&(d=t.createElement(_),d.classList.add(k),d.classList.add(U),t.body.appendChild(d)),o=function(e,t){var n=e.parentNode;if(n&&(!e.classList||!e.classList.contains(q)||e.classList.contains(ae.dragOnlyRegionCssClass)))return t(e)?e:t(n)?n:o(n,t)},y=function(e){var n=[].slice.call(t.getElementsByClassName(e));n.forEach(function(e){e.dataset.dragsterId===ie&&e.parentNode.removeChild(e)})},w=function(e,n){n&&(a.forEach(function(e){e.removeEventListener(n,g.mousemove)}),t.body.removeEventListener(n,g.mousemove)),e&&e.classList.remove(O),[].slice.call(t.getElementsByClassName(X)).forEach(function(e){e.firstChild||e.parentNode.removeChild(e)}),y(x),y(F),T()},D=function(){[].slice.call(t.getElementsByClassName(J)).forEach(function(e){e.classList.remove(J)})},v=function(){var e=t.createElement(_);return e.classList.add(X),e.dataset.dragsterId=ie,e},L=function(){var e=t.createElement(_);return e.classList.add(x),e.dataset.dragsterId=ie,e},E=function(){var e=t.createElement(_);return e.classList.add(F),e.classList.add(k),e.style.position="fixed",e.dataset.dragsterId=ie,t.body.appendChild(e),e},h=function(e,t){if(e&&e.parentNode){var n=ae.wrapDraggableElements===ee?e:e.nextSibling;e.parentNode.insertBefore(t,n)}},f=function(e,t){e&&e.parentNode&&e.parentNode.insertBefore(t,e)},m=function(e){return e.classList&&e.classList.contains(X)&&e.dataset.dragsterId===ie},u=function(e){return e.classList&&e.classList.contains(x)},p=function(e){return e.classList&&e.classList.contains(ae.dragOnlyRegionCssClass)},T=function(){if(ae.updateRegionsHeight){var n=[].slice.call(t.getElementsByClassName(q));n.forEach(function(t){var n=[].slice.call(t.querySelectorAll(ae.elementSelector)),r=ae.minimumRegionHeight;n.length&&(n.forEach(function(t){var n=e.getComputedStyle(t);r+=t.offsetHeight+parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}),t.style.height=r+$)})}},N=function(e,t){w(i,e),w(i,t)},g={mousedown:function(e){if(ae.dragHandleCssClass&&("string"!=typeof ae.dragHandleCssClass||!e.target.classList.contains(ae.dragHandleCssClass)))return ee;var n,r,d,c=e.type===W,u=e.changedTouches?e.changedTouches[0]:e;return le=JSON.parse(JSON.stringify(se)),e.dragster=le,ae.onBeforeDragStart(e)===ee||3===e.which?ee:(e.preventDefault(),(i=o(e.target,m))?(r=c?j:K,d=c?z:Q,a.forEach(function(e){e.addEventListener(r,g.mousemove,ee),e.addEventListener(d,g.mouseup,ee)}),t.body.addEventListener(r,g.mousemove,ee),t.body.addEventListener(d,g.mouseup,ee),n=i.getBoundingClientRect(),S=n.left-u.clientX,I=n.top-u.clientY,s=E(),s.innerHTML=i.innerHTML,s.style.width=n.width+$,s.style.height=n.height+$,s.dataset.dragsterId=ie,l=s.getBoundingClientRect(),i.classList.add(O),le.drag.node=i,le.shadow.node=s,e.dragster=le,void ae.onAfterDragStart(e)):ee)},mousemove:function(e){if(e.dragster=le,ae.onBeforeDragMove(e)===ee||!l)return ee;e.preventDefault();var n=e.changedTouches?e.changedTouches[0]:e,r=n.view?n.view.pageXOffset:0,a=n.view?n.view.pageYOffset:0,d=n.clientY+a,c=n.clientX+r,g=t.elementFromPoint(n.clientX,n.clientY),u=o(g,m),h=ae.shadowElementUnderMouse?n.clientY+I:n.clientY,f=ae.shadowElementUnderMouse?c+S:c-l.width/2,v=le.drag.node&&le.drag.node.dataset,E=!(!u||!o(u,p)),L=g.dataset.dragsterId===ie,y=g.classList.contains(q)&&L,w=g.classList.contains(ae.dragOnlyRegionCssClass)&&L,D=g.classList.contains(x),b=g.getElementsByClassName(X).length>0,B=g.getElementsByClassName(x).length>0;clearTimeout(C),s.style.top=h+$,s.style.left=f+$,s.classList.remove(k),le.shadow.top=h,le.shadow.left=f,v||y||D?u&&u!==i&&!E?(R.removePlaceholders(),R.addPlaceholderOnTarget(u,d,a)):!y||w||b||B?y&&!w&&b&&!B&&(R.removePlaceholders(),R.addPlaceholderInRegionBelowTargets(g)):(R.removePlaceholders(),R.addPlaceholderInRegion(g)):R.removePlaceholders(),ae.scrollWindowOnDrag&&H(e),T(),ae.onAfterDragMove(e)},mouseup:function(e){e.dragster=le;var n,r,a,s,l,d=e.type===W,c=d?j:K,g=d?z:Q;return ae.onBeforeDragEnd(e)===ee?(N(c,g),ee):(n=ae.replaceElements?J:x,r=t.getElementsByClassName(n)[0],s=!(!i||!o(i,p)),l=ae.cloneElements&&s,C=setTimeout(N,200),D(),i&&r?(a=o(r,m),a=a||r,i!==a&&(ae.replaceElements||l?ae.replaceElements&&!l?(e.dragster=P.replaceElements(e.dragster,a),ae.onAfterDragDrop(e)):!ae.replaceElements&&l&&(e.dragster=P.cloneElements(e.dragster,r,a),ae.onAfterDragDrop(e)):(e.dragster=P.moveElement(e.dragster,r,a),ae.onAfterDragDrop(e)),a.classList.remove(Y)),N(c,g),void ae.onAfterDragEnd(e)):(N(c,g),ee))}},R={addPlaceholderOnTarget:function(e,t,n){var r=e.getBoundingClientRect(),a=L(),o=r.height/2;D(),ae.replaceElements?e.classList.add(J):t-n-r.top<o&&!oe.top?(y(x),a.dataset.placeholderPosition=V,f(e.firstChild,a),le.placeholder.position=V):r.bottom-(t-n)<o&&!oe.bottom&&(y(x),a.dataset.placeholderPosition=Z,e.appendChild(a),le.placeholder.position=Z),le.placeholder.node=a,le.drop.node=e},addPlaceholderInRegion:function(e){var t=L();e.appendChild(t),le.placeholder.position=Z,le.placeholder.node=t,le.drop.node=e},addPlaceholderInRegionBelowTargets:function(e){var t=[].slice.call(e.getElementsByClassName(X)),n=t.filter(function(e){return e.dataset.dragsterId===ie}),r=n[n.length-1],a=L();a.dataset.placeholderPosition=Z,y(x),r.appendChild(a),le.placeholder.position=Z,le.placeholder.node=a,le.drop.node=r},removePlaceholders:function(){ae.replaceElements?D():y(x)}},P={moveElement:function(e,t,n){var r=ae.wrapDraggableElements===ee?i:v(),a=t.dataset.placeholderPosition;return a===V?f(n,r):ae.wrapDraggableElements===ee?h(r,n):h(n,r),i.firstChild&&ae.wrapDraggableElements===te&&r.appendChild(i.firstChild),e.dropped=r,e},replaceElements:function(e,n){var r=t.getElementsByClassName(U)[0];return r.innerHTML=i.innerHTML,i.innerHTML=n.innerHTML,n.innerHTML=r.innerHTML,r.innerHTML="",e.dropped=r,e},cloneElements:function(e,t,n){var r=i.cloneNode(!0),a=t.dataset.placeholderPosition;return a===V?f(n,r):h(n,r),w(r),e.clonedFrom=i,e.clonedTo=r,e}},H=function(t){var n=t.changedTouches?t.changedTouches[0]:t,r=60;de-n.clientY<r?e.scrollBy(0,10):n.clientY<r&&e.scrollBy(0,-10)},M=function(){de=e.innerHeight},B(c),a.forEach(function(e){e.classList.add(q),e.dataset.dragsterId=ie,e.addEventListener(G,g.mousedown,ee),e.addEventListener(W,g.mousedown,ee)}),e.addEventListener("resize",M,!1),{update:function(){c=b(),B(c),T(),M()}}}}(window,window.document);